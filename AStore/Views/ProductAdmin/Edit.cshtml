@model AStore_Web.Models.VM.Product.ProductUpdateVM
@{
    ViewData["Title"] = "Edit Product";
}
<section class="section">
    <div class="section-header">
        <h1>Product</h1>
    </div>
    <div class="section-body">
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h4>Create Product</h4>
                    </div>
                    <div class="card-body">
                        <form method="POST" asp-action="Edit" enctype="multipart/form-data">
                            <div asp-validation-summary="All" class="text-danger"></div>
                            <input type="hidden" asp-for="pro_id.Id" >
                            <div class="form-group">
                                <label>Name</label>
                                <input type="text" id="productName" class="form-control" asp-for="pro_id.Name" >
                                <span asp-validation-for="pro_id.Name" class="text-danger"></span>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="inputState">Category</label>
                                        <select id="inputState" class="form-control main-category" asp-for="pro_id.CategoryId" asp-items="@Model.CategoryList">
                                            <option disabled selected>--Select Category--</option>
                                        </select>
                                        <span asp-validation-for="pro_id.CategoryId" class="text-danger"></span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label style="display:none" for="inputSlug">Slug</label>
                                <input type="hidden" id="inputSlug" name="pro_id.Slug" asp-for="pro_id.Slug">
                                <span asp-validation-for="pro_id.Slug" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label>Price</label>
                                <input type="text" asp-for="pro_id.Price" class="form-control">
                                <span asp-validation-for="pro_id.Price" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label>Offer Price</label>
                                <input type="text" class="form-control" asp-for="pro_id.Offer_price">
                                <span asp-validation-for="pro_id.Offer_price" class="text-danger"></span>
                            </div>

                            <div class="form-group">
                                <label>Description</label>
                                <textarea asp-for="pro_id.Description" class="form-control"></textarea>
                                <span asp-validation-for="pro_id.Description" class="text-danger"></span>
                            </div>

                            <div class="form-group">
                                <label for="inputState">Product Type</label>
                                <select asp-for="pro_id.Product_type" id="inputState" class="form-control">
                                    <option value="">Select</option>
                                    <option value="new_arrival">New Arrival</option>
                                    <option value="featured_product">Featured</option>
                                    <option value="top_product">Top Product</option>
                                    <option value="best_product">Best Product</option>
                                </select>
                                <span asp-validation-for="pro_id.Product_type" class="text-danger"></span>
                            </div>

                            <div class="form-group">
                                <label for="inputState">Status</label>
                                <select id="inputState" asp-for="pro_id.Status" class="form-control">
                                    <option value="1">Active</option>
                                    <option value="0">Inactive</option>
                                    <span asp-validation-for="pro_id.Status" class="text-danger"></span>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Image</label>
                                <input type="file" id="image" class="form-control" asp-for="ImageVM">
                                <span asp-validation-for="ImageVM" class="text-danger"></span>
                            </div>
                            <button type="submit" class="btn btn-primary">Create</button>
                        </form>
                    </div>

                </div>
            </div>
        </div>

    </div>
</section>
@section Scripts {
    <script>
        function generateSlug(text) {
            return text
                .toString()
                .toLowerCase()
                .replace(/\s+/g, '-')           // Replace spaces with -
                .replace(/[^\w\-]+/g, '')       // Remove all non-word chars
                .replace(/\-\-+/g, '-')         // Replace multiple - with single -
                .replace(/^-+/, '')             // Trim - from start of text
                .replace(/-+$/, '');            // Trim - from end of text
        }

        document.addEventListener('DOMContentLoaded', function () {
            const nameInput = document.getElementById('productName');
            const slugInput = document.getElementById('inputSlug');
            const imageInput = document.getElementById('inputImage');
            const image = document.getElementById('image');

            nameInput.addEventListener('input', function () {
                const nameValue = nameInput.value;
                slugInput.value = generateSlug(nameValue);
            });
        });



    </script>
}
