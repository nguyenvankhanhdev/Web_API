@model AStore_Web.Models.Category
@{
	ViewData["Title"] = "Create Product";
}
<section class="section">
	<div class="section-header">
		<h1>Category</h1>
	</div>
	<div class="section-body">
		<div class="row">
			<div class="col-12">
				<div class="card">
					<div class="card-header">
						<h4>Create Category</h4>
					</div>
					<div class="card-body">
						<form method="POST" asp-action="Create" enctype="multipart/form-data">
							<div asp-validation-summary="All" class="text-danger"></div>
							<div class="form-group">
								<label>Name</label>
								<input type="text" id="productName" class="form-control" asp-for="Name">
								<span asp-validation-for="Name" class="text-danger"></span>
							</div>
							<div class="form-group">
								<label style="display:none" for="inputSlug">Slug</label>
								<input type="hidden" id="inputSlug" name="Slug" asp-for="Slug">
								<span asp-validation-for="Slug" class="text-danger"></span>
							</div>

							<div class="form-group">
								<label for="inputState">Status</label>
								<select id="inputState" asp-for="Status" class="form-control">
									<option value="1">Active</option>
									<option value="0">Inactive</option>
									<span asp-validation-for="Status" class="text-danger"></span>
								</select>
							</div>
							<button type="submit" class="btn btn-primary">Create</button>
						</form>
					</div>

				</div>
			</div>
		</div>

	</div>
</section>

@section Scripts {
	<script>
		function generateSlug(text) {
			return text
				.toString()
				.toLowerCase()
				.replace(/\s+/g, '-')           // Replace spaces with -
				.replace(/[^\w\-]+/g, '')       // Remove all non-word chars
				.replace(/\-\-+/g, '-')         // Replace multiple - with single -
				.replace(/^-+/, '')             // Trim - from start of text
				.replace(/-+$/, '');            // Trim - from end of text
		}

		document.addEventListener('DOMContentLoaded', function () {
			const nameInput = document.getElementById('productName');
			const slugInput = document.getElementById('inputSlug');

			nameInput.addEventListener('input', function () {
				const nameValue = nameInput.value;
				slugInput.value = generateSlug(nameValue);
			});
		});
	</script>
}
